–í–æ—Ç –ø—Ä–∏–º–µ—Ä `README.md` –¥–ª—è —Ç–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ Python, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–∞—à–∏–≤–∞–µ—Ç CAN-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —á–µ—Ä–µ–∑ SPI –∏ –≤—ã–≤–æ–¥–∏—Ç —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:

---

````markdown
# MPS CAN Monitor

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –æ–ø—Ä–æ—Å–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –ø–æ CAN-—à–∏–Ω–µ —á–µ—Ä–µ–∑ SPI-–º–æ–¥—É–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, MCP2515), –ø–æ–¥–∫–ª—é—á—ë–Ω–Ω—ã–π –∫ Raspberry Pi 5. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ `python-can` –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `socketcan`.

## üß∞ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:

```bash
sudo apt update
sudo apt install -y python3-pip python3-rpi.gpio python3-can can-utils
pip3 install can
````

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `can0` (–ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ MCP2515 —á–µ—Ä–µ–∑ SPI):

```bash
sudo ip link set can0 type can bitrate 500000
sudo ip link set up can0
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
ifconfig can0
```

## üìú –û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å–∫—Ä–∏–ø—Ç–∞

–°–∫—Ä–∏–ø—Ç:

* –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä, —á—Ç–æ–±—ã –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ—Ç–≤–µ—Ç—ã –æ—Ç ID `0x5C1`
* –ü–æ—Å—ã–ª–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã –Ω–∞ ID `0x641`
* –ñ–¥—ë—Ç –æ—Ç–≤–µ—Ç–∞ –Ω–∞ –∫–∞–∂–¥—É—é –∫–æ–º–∞–Ω–¥—É (–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–æ –ø–æ–¥–º–∞—Å—Å–∏–≤—É –±–∞–π—Ç–æ–≤ \[1:4])
* –†–∞—Å–ø–µ—á–∞—Ç—ã–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ —á–∏—Ç–∞–µ–º–æ–º –≤–∏–¥–µ

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞:

```bash
python3 mps.py
```

–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:

```
STEP #1, INTERVAL TIME == 1.20s
CAN STATE:
  heatersState   : 4F 03 20 04 E0 00 01 00
  heliumLevel    : 4B 0A 20 04 00 00 02 00
  turet1V        : 4B 17 20 01 66 08 02 00
  ...
```

## üß™ –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º

–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç-—Å–∏–º—É–ª—è—Ç–æ—Ä, –æ—Ç–≤–µ—á–∞—é—â–∏–π –Ω–∞ `0x641` —Å–ª—É—á–∞–π–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
project/
‚îú‚îÄ‚îÄ mps.py          # –æ—Å–Ω–æ–≤–Ω–æ–π –æ–ø—Ä–æ—Å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç
‚îú‚îÄ‚îÄ mps2.py         # —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º struct.unpack
‚îú‚îÄ‚îÄ responder.py    # —Ç–µ—Å—Ç–æ–≤—ã–π –æ—Ç–≤–µ—Ç—á–∏–∫ –Ω–∞ ID 0x641
‚îú‚îÄ‚îÄ README.md
‚îî‚îÄ‚îÄ .gitignore
```

## üìé –°–æ–≤–º–µ—Å—Ç–∏–º—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

* MCP2515 (SPI CAN –∞–¥–∞–ø—Ç–µ—Ä)
* Waveshare 2-CH CAN HAT
* Raspberry Pi 5, CM4 (—á–µ—Ä–µ–∑ `spi0.0` –∏–ª–∏ `spi0.1`)

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

```

---

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É –¥–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–¥–µ–ª —Å —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–æ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø–æ–ª–µ–π –∏–ª–∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ `matplotlib`/`plotly` –∏ —ç–∫—Å–ø–æ—Ä—Ç –≤ JSON.
```
